create table tickers
(
    symbol             varchar not null
        constraint pk_tickers
            primary key,
    type               varchar,
    name               varchar,
    description        varchar,
    phone              varchar,
    logo_url           varchar,
    web_url            varchar,
    ipo_date           date,
    sector             varchar,
    industry           varchar,
    gic_sector         varchar,
    gic_group          varchar,
    gic_industry       varchar,
    gic_sub_industry   varchar,
    exchange           varchar,
    exchange_canonical varchar,
    country_name       text,
    updated_at         timestamp
);
insert into tickers (symbol, type, name, description, phone, logo_url, web_url, ipo_date, sector, industry, gic_sector, gic_group, gic_industry, gic_sub_industry, exchange, exchange_canonical, country_name, updated_at)
values  ('AAPL', 'common stock', 'Apple Inc', 'Apple Inc. designs, manufactures, and markets smartphones, personal computers, tablets, wearables, and accessories worldwide. It also sells various related services. In addition, the company offers iPhone, a line of smartphones; Mac, a line of personal computers; iPad, a line of multi-purpose tablets; AirPods Max, an over-ear wireless headphone; and wearables, home, and accessories comprising AirPods, Apple TV, Apple Watch, Beats products, HomePod, and iPod touch. Further, it provides AppleCare support services; cloud services store services; and operates various platforms, including the App Store that allow customers to discover and download applications and digital content, such as books, music, video, games, and podcasts. Additionally, the company offers various services, such as Apple Arcade, a game subscription service; Apple Music, which offers users a curated listening experience with on-demand radio stations; Apple News+, a subscription news and magazine service; Apple TV+, which offers exclusive original content; Apple Card, a co-branded credit card; and Apple Pay, a cashless payment service, as well as licenses its intellectual property. The company serves consumers, and small and mid-sized businesses; and the education, enterprise, and government markets. It distributes third-party applications for its products through the App Store. The company also sells its products through its retail and online stores, and direct sales force; and third-party cellular network carriers, wholesalers, retailers, and resellers. Apple Inc. was incorporated in 1977 and is headquartered in Cupertino, California.', '408 996 1010', '/img/logos/US/aapl.png', 'https://www.apple.com', '1980-12-12', 'Technology', 'Consumer Electronics', 'Information Technology', 'Technology Hardware & Equipment', 'Technology Hardware, Storage & Peripherals', 'Technology Hardware, Storage & Peripherals', 'NASDAQ', 'NASDAQ', 'United States', '2022-10-10 05:26:25.589790'),
        ('ADBE', 'common stock', 'Adobe Systems Incorporated', 'Adobe Inc. operates as a diversified software company worldwide. It operates through three segments: Digital Media, Digital Experience, and Publishing and Advertising. The Digital Media segment offers products, services, and solutions that enable individuals, teams, and enterprises to create, publish, and promote content; and Document Cloud, a unified cloud-based document services platform. Its flagship product is Creative Cloud, a subscription service that allows members to access its creative products. This segment serves content creators, workers, marketers, educators, enthusiasts, communicators, and consumers. The Digital Experience segment provides an integrated platform and set of applications and services that enable brands and businesses to create, manage, execute, measure, monetize, and optimize customer experiences from analytics to commerce. This segment serves marketers, advertisers, agencies, publishers, merchandisers, merchants, web analysts, data scientists, developers, and executives across the C-suite. The Publishing and Advertising segment offers products and services, such as e-learning solutions, technical document publishing, web conferencing, document and forms platform, web application development, and high-end printing, as well as Advertising Cloud offerings. The company offers its products and services directly to enterprise customers through its sales force and local field offices, as well as to end users through app stores and through its website at adobe.com. It also distributes products and services through a network of distributors, value-added resellers, systems integrators, software vendors and developers, retailers, and original equipment manufacturers. The company was formerly known as Adobe Systems Incorporated and changed its name to Adobe Inc. in October 2018. Adobe Inc. was founded in 1982 and is headquartered in San Jose, California.', '408 536 6000', '/img/logos/US/ADBE.png', 'https://www.adobe.com', '1986-08-20', 'Technology', 'Software-Infrastructure', 'Information Technology', 'Software & Services', 'Software', 'Application Software', 'NASDAQ', 'NASDAQ', 'United States', '2022-10-10 05:26:25.589790'),
        ('AMD', 'common stock', 'Advanced Micro Devices Inc', 'Advanced Micro Devices, Inc. operates as a semiconductor company worldwide. The company operates in two segments, Computing and Graphics; and Enterprise, Embedded and Semi-Custom. Its products include x86 microprocessors as an accelerated processing unit, chipsets, discrete and integrated graphics processing units (GPUs), data center and professional GPUs, and development services; and server and embedded processors, and semi-custom System-on-Chip (SoC) products, development services, and technology for game consoles. The company provides processors for desktop and notebook personal computers under the AMD Ryzen, AMD Ryzen PRO, Ryzen Threadripper, Ryzen Threadripper PRO, AMD Athlon, AMD Athlon PRO, AMD FX, AMD A-Series, and AMD PRO A-Series processors brands; discrete GPUs for desktop and notebook PCs under the AMD Radeon graphics, AMD Embedded Radeon graphics brands; and professional graphics products under the AMD Radeon Pro and AMD FirePro graphics brands. It also offers Radeon Instinct, Radeon PRO V-series, and AMD Instinct accelerators for servers; chipsets under the AMD trademark; microprocessors for servers under the AMD EPYC; embedded processor solutions under the AMD Athlon, AMD Geode, AMD Ryzen, AMD EPYC, AMD R-Series, and G-Series processors brands; and customer-specific solutions based on AMD CPU, GPU, and multi-media technologies, as well as semi-custom SoC products. It serves original equipment manufacturers, public cloud service providers, original design manufacturers, system integrators, independent distributors, online retailers, and add-in-board manufacturers through its direct sales force, independent distributors, and sales representatives. The company was incorporated in 1969 and is headquartered in Santa Clara, California.', '408 749 4000', '/img/logos/US/AMD.png', 'https://www.amd.com', '1979-10-15', 'Technology', 'Semiconductors', 'Information Technology', 'Semiconductors & Semiconductor Equipment', 'Semiconductors & Semiconductor Equipment', 'Semiconductors', 'NASDAQ', 'NASDAQ', 'United States', '2022-10-10 05:26:25.589790'),
        ('AMZN', 'common stock', 'Amazon.com Inc', 'Amazon.com, Inc. engages in the retail sale of consumer products and subscriptions in North America and internationally. The company operates through three segments: North America, International, and Amazon Web Services (AWS). It sells merchandise and content purchased for resale from third-party sellers through physical and online stores. The company also manufactures and sells electronic devices, including Kindle, Fire tablets, Fire TVs, Rings, and Echo and other devices; provides Kindle Direct Publishing, an online service that allows independent authors and publishers to make their books available in the Kindle Store; and develops and produces media content. In addition, it offers programs that enable sellers to sell their products on its websites, as well as its stores; and programs that allow authors, musicians, filmmakers, Twitch streamers, skill and app developers, and others to publish and sell content. Further, the company provides compute, storage, database, analytics, machine learning, and other services, as well as fulfillment, advertising, publishing, and digital content subscriptions. Additionally, it offers Amazon Prime, a membership program, which provides free shipping of various items; access to streaming of movies and series; and other services. The company serves consumers, sellers, developers, enterprises, and content creators. Amazon.com, Inc. was incorporated in 1994 and is headquartered in Seattle, Washington.', '206 266 1000', '/img/logos/US/amzn.png', 'https://www.amazon.com', '1997-05-15', 'Consumer Cyclical', 'Internet Retail', 'Consumer Discretionary', 'Retailing', 'Internet & Direct Marketing Retail', 'Internet & Direct Marketing Retail', 'NASDAQ', 'NASDAQ', 'United States', '2022-10-10 05:26:25.589790'),
        ('ASML', 'common stock', 'ASML Holding NV ADR', 'ASML Holding N.V. develops, produces, markets, sells, and services advanced semiconductor equipment systems consisting of lithography, metrology, and inspection related systems for memory and logic chipmakers. The company provides extreme ultraviolet lithography systems; and deep ultraviolet lithography systems comprising immersion and dry lithography solutions to manufacture various range of semiconductor nodes and technologies. It also offers metrology and inspection systems, including YieldStar optical metrology solutions to measure the quality of patterns on the wafers; and HMI e-beam solutions to locate and analyze individual chip defects. In addition, the company provides computational lithography and software solutions to create applications that enhance the setup of the lithography system; and mature products and services that refurbish used lithography equipment and offers associated services. It operates in Japan, South Korea, Singapore, Taiwan, China, the Netherlands, Europe, the United States, and rest of Asia. The company was formerly known as ASM Lithography Holding N.V. and changed its name to ASML Holding N.V. in 2001. ASML Holding N.V. was founded in 1984 and is headquartered in Veldhoven, the Netherlands.', '31 480 235 0934', '/img/logos/US/ASML.png', 'https://www.asml.com', '1995-03-15', 'Technology', 'Semiconductor Equipment & Materials', 'Information Technology', 'Semiconductors & Semiconductor Equipment', 'Semiconductors & Semiconductor Equipment', 'Semiconductor Equipment', 'NASDAQ', 'NASDAQ', 'Netherlands', '2022-10-10 05:26:25.589790'),
        ('AVGO', 'common stock', 'Broadcom Inc', 'Broadcom Inc. designs, develops, and supplies various semiconductor devices with a focus on complex digital and mixed signal complementary metal oxide semiconductor based devices and analog III-V based products worldwide. The company operates in two segments, Semiconductor Solutions and Infrastructure Software. It provides set-top box system-on-chips (SoCs); cable, digital subscriber line, and passive optical networking central office/consumer premise equipment SoCs; wireless local area network access point SoCs; Ethernet switching and routing merchant silicon products; embedded processors and controllers; serializer/deserializer application specific integrated circuits; optical and copper, and physical layers; and fiber optic transmitter and receiver components. The company also offers RF front end modules, filters, and power amplifiers; Wi-Fi, Bluetooth, and global positioning system/global navigation satellite system SoCs; custom touch controllers; serial attached small computer system interface, and redundant array of independent disks controllers and adapters; peripheral component interconnect express switches; fiber channel host bus adapters; read channel based SoCs; custom flash controllers; preamplifiers; and optocouplers, industrial fiber optics, and motion control encoders and subsystems. Its products are used in various applications, including enterprise and data center networking, home connectivity, set-top boxes, broadband access, telecommunication equipment, smartphones and base stations, data center servers and storage systems, factory automation, power generation and alternative energy systems, and electronic displays. Broadcom Inc. was incorporated in 2018 and is headquartered in San Jose, California.', '408 433 8000', '/img/logos/US/avgo.png', 'https://www.broadcom.com', '2009-08-06', 'Technology', 'Semiconductors', 'Information Technology', 'Semiconductors & Semiconductor Equipment', 'Semiconductors & Semiconductor Equipment', 'Semiconductors', 'NASDAQ', 'NASDAQ', 'United States', '2022-10-10 05:26:25.589790'),
        ('BABA', 'common stock', 'Alibaba Group Holding Ltd', 'Alibaba Group Holding Limited, through its subsidiaries, provides technology infrastructure and marketing reach to help merchants, brands, retailers, and other businesses to engage with their users and customers in the People''s Republic of China and internationally. The company operates through seven segments: China Commerce, International Commerce, Local Consumer Services, Cainiao, Cloud, Digital Media and Entertainment, and Innovation Initiatives and Others. It operates Taobao Marketplace, a social commerce platform; Tmall, a third-party online and mobile commerce platform for brands and retailers; Alimama, a monetization platform; 1688.com and Alibaba.com, which are online wholesale marketplaces; AliExpress, a retail marketplace; Lazada, Trendyol, and Daraz that are e-commerce platforms; Freshippo, a self-operated retail chain; and Tmall Global, an import e-commerce platform. The company also operates Taoxianda, an online-offline integration service for FMCG brands and third-party grocery retail partners; Cainiao Network logistic services platform; Ele.me, an on-demand delivery and local services platform; Koubei, a restaurant and local services guide platform; and Fliggy, an online travel platform. In addition, it offers pay-for-performance, in-feed, and display marketing services; and Taobao Ad Network and Exchange, a real-time online bidding marketing exchange. Further, the company provides elastic computing, storage, network, security, database and big data, and IoT services. Additionally, it operates Youku, an online video platform; Alibaba Pictures and other content platforms that provide online videos, films, live events, news feeds, literature, music, and others; Amap, a mobile digital map, navigation, and real-time traffic information app; DingTalk, a business efficiency mobile app; and Tmall Genie smart speaker. The company was incorporated in 1999 and is based in Hangzhou, the People''s Republic of China.', '86 571 8502 2088', '/img/logos/US/baba.png', 'https://www.alibabagroup.com', '2014-09-19', 'Consumer Cyclical', 'Internet Retail', 'Consumer Discretionary', 'Retailing', 'Internet & Direct Marketing Retail', 'Internet & Direct Marketing Retail', 'NYSE', 'NYSE', 'China', '2022-10-10 05:26:25.589790'),
        ('CRM', 'common stock', 'Salesforce.com Inc', 'Salesforce, Inc. provides customer relationship management technology that brings companies and customers together worldwide. Its Customer 360 platform empowers its customers to work together to deliver connected experiences for their customers. The company''s service offerings include Sales to store data, monitor leads and progress, forecast opportunities, gain insights through analytics and relationship intelligence, and deliver quotes, contracts, and invoices; and Service that enables companies to deliver trusted and highly personalized customer service and support at scale. Its service offerings also comprise flexible platform that enables companies of various sizes, locations, and industries to build business apps to bring them closer to their customers with drag-and-drop tools; online learning platform that allows anyone to learn in-demand Salesforce skills; and Slack, a system of engagement. In addition, the company''s service offerings include Marketing offering that enables companies to plan, personalize, and optimize one-to-one customer marketing journeys; and Commerce offering, which empowers brands to unify the customer experience across mobile, web, social, and store commerce points. Further, its service offerings comprise Tableau, an end-to-end analytics solution serving various enterprise use cases; and MuleSoft, an integration offering that allows its customers to unlock data across their enterprise. The company provides its service offering for customers in financial services, healthcare and life sciences, manufacturing, and other industries. It also offers professional services; and in-person and online courses to certify its customers and partners on architecting, administering, deploying, and developing its service offerings. The company provides its services through direct sales; and consulting firms, systems integrators, and other partners. Salesforce, Inc. was incorporated in 1999 and is headquartered in San Francisco, California.', '415 901 7000', '/img/logos/US/CRM.png', 'https://www.salesforce.com', '2004-06-23', 'Technology', 'Software-Application', 'Information Technology', 'Software & Services', 'Software', 'Application Software', 'NYSE', 'NYSE', 'United States', '2022-10-10 05:26:25.589790'),
        ('CSCO', 'common stock', 'Cisco Systems Inc', 'Cisco Systems, Inc. designs, manufactures, and sells Internet Protocol based networking and other products related to the communications and information technology industry in the Americas, Europe, the Middle East, Africa, the Asia Pacific, Japan, and China. The company also offers switching portfolio encompasses campus switching as well as data center switching; enterprise routing portfolio interconnects public and private wireline and mobile networks, delivering highly secure, and reliable connectivity to campus, data center and branch networks; wireless products include wireless access points that are standalone, controller appliance-based, switch-converged, and Meraki cloud-managed offerings; and compute portfolio including the cisco unified computing system, hyperflex, and software management capabilities, which combine computing, networking, and storage infrastructure management and virtualization. In addition, it provides Internet for the future product consists of routed optical networking, 5G, silicon, and optics solutions; collaboration products, such as meetings, collaboration devices, calling, contact center, and communication platform as a service; end-to-end security product consists of network security, cloud security, security endpoints, unified threat management, and zero trust; and optimized application experiences products including full stack observability and cloud-native platform. Further, the company offers a range of service and support options for its customers, including technical support and advanced services and advisory services. It serves businesses of various sizes, public institutions, governments, and service providers. The company sells its products and services directly, as well as through systems integrators, service providers, other resellers, and distributors. Cisco Systems, Inc. has strategic alliances with other companies. Cisco Systems, Inc. was incorporated in 1984 and is headquartered in San Jose, California.', '408 526 4000', '/img/logos/US/CSCO.png', 'https://www.cisco.com', '1990-02-16', 'Technology', 'Communication Equipment', 'Information Technology', 'Technology Hardware & Equipment', 'Communications Equipment', 'Communications Equipment', 'NASDAQ', 'NASDAQ', 'United States', '2022-10-10 05:26:25.589790'),
        ('GOOG', 'common stock', 'Alphabet Inc Class C', 'Alphabet Inc. provides various products and platforms in the United States, Europe, the Middle East, Africa, the Asia-Pacific, Canada, and Latin America. It operates through Google Services, Google Cloud, and Other Bets segments. The Google Services segment offers products and services, including ads, Android, Chrome, hardware, Gmail, Google Drive, Google Maps, Google Photos, Google Play, Search, and YouTube. It is also involved in the sale of apps and in-app purchases and digital content in the Google Play store; and Fitbit wearable devices, Google Nest home products, Pixel phones, and other devices, as well as in the provision of YouTube non-advertising services. The Google Cloud segment offers infrastructure, platform, and other services; Google Workspace that include cloud-based collaboration tools for enterprises, such as Gmail, Docs, Drive, Calendar, and Meet; and other services for enterprise customers. The Other Bets segment sells health technology and internet services. The company was founded in 1998 and is headquartered in Mountain View, California.', '650 253 0000', '/img/logos/US/goog.png', 'https://www.abc.xyz', '2004-08-19', 'Communication Services', 'Internet Content & Information', 'Communication Services', 'Media & Entertainment', 'Interactive Media & Services', 'Interactive Media & Services', 'NASDAQ', 'NASDAQ', 'United States', '2022-10-10 05:26:25.589790'),
        ('IBM', 'common stock', 'International Business Machines', 'International Business Machines Corporation provides integrated solutions and services worldwide. The company operates through four business segments: Software, Consulting, Infrastructure, and Financing. The Software segment offers hybrid cloud platform and software solutions, such as Red Hat, an enterprise open-source solutions; software for business automation, AIOps and management, integration, and application servers; data and artificial intelligence solutions; and security software and services for threat, data, and identity. This segment also provides transaction processing software that supports clients'' mission-critical and on-premise workloads in banking, airlines, and retail industries. The Consulting segment offers business transformation services, including strategy, business process design and operations, data and analytics, and system integration services; technology consulting services; and application and cloud platform services. The Infrastructure segment provides on-premises and cloud-based server and storage solutions for its clients'' mission-critical and regulated workloads; and support services and solutions for hybrid cloud infrastructure, as well as remanufacturing and remarketing services for used equipment. The Financing segment offers lease, installment payment, loan financing, and short-term working capital financing services. The company was formerly known as Computing-Tabulating-Recording Co. International Business Machines Corporation was incorporated in 1911 and is headquartered in Armonk, New York.', '914 499 1900', '/img/logos/US/IBM.png', 'https://www.ibm.com', '1962-01-02', 'Technology', 'Information Technology Services', 'Information Technology', 'Software & Services', 'IT Services', 'IT Consulting & Other Services', 'NYSE', 'NYSE', 'United States', '2022-10-10 05:26:25.589790'),
        ('INTC', 'common stock', 'Intel Corporation', 'Intel Corporation engages in the design, manufacture, and sale of computer products and technologies worldwide. The company operates through CCG, DCG, IOTG, Mobileye, NSG, PSG, and All Other segments. It offers platform products, such as central processing units and chipsets, and system-on-chip and multichip packages; and non-platform or adjacent products, including accelerators, boards and systems, connectivity products, graphics, and memory and storage products. The company also provides high-performance compute solutions for targeted verticals and embedded applications for retail, industrial, and healthcare markets; and solutions for assisted and autonomous driving comprising compute platforms, computer vision and machine learning-based sensing, mapping and localization, driving policy, and active sensors. In addition, it offers workload-optimized platforms and related products for cloud service providers, enterprise and government, and communications service providers. The company serves original equipment manufacturers, original design manufacturers, and cloud service providers. Intel Corporation has a strategic partnership with MILA to develop and apply advances in artificial intelligence methods for enhancing the search in the space of drugs. The company was incorporated in 1968 and is headquartered in Santa Clara, California.', '408 765 8080', '/img/logos/US/INTC.png', 'https://www.intel.com', '1971-10-13', 'Technology', 'Semiconductors', 'Information Technology', 'Semiconductors & Semiconductor Equipment', 'Semiconductors & Semiconductor Equipment', 'Semiconductors', 'NASDAQ', 'NASDAQ', 'United States', '2022-10-10 05:26:25.589790'),
        ('MSFT', 'common stock', 'Microsoft Corporation', 'Microsoft Corporation develops, licenses, and supports software, services, devices, and solutions worldwide. The company operates in three segments: Productivity and Business Processes, Intelligent Cloud, and More Personal Computing. The Productivity and Business Processes segment offers Office, Exchange, SharePoint, Microsoft Teams, Office 365 Security and Compliance, Microsoft Viva, and Skype for Business; Skype, Outlook.com, OneDrive, and LinkedIn; and Dynamics 365, a set of cloud-based and on-premises business solutions for organizations and enterprise divisions. The Intelligent Cloud segment licenses SQL, Windows Servers, Visual Studio, System Center, and related Client Access Licenses; GitHub that provides a collaboration platform and code hosting service for developers; Nuance provides healthcare and enterprise AI solutions; and Azure, a cloud platform. It also offers enterprise support, Microsoft consulting, and nuance professional services to assist customers in developing, deploying, and managing Microsoft server and desktop solutions; and training and certification on Microsoft products. The More Personal Computing segment provides Windows original equipment manufacturer (OEM) licensing and other non-volume licensing of the Windows operating system; Windows Commercial, such as volume licensing of the Windows operating system, Windows cloud services, and other Windows commercial offerings; patent licensing; and Windows Internet of Things. It also offers Surface, PC accessories, PCs, tablets, gaming and entertainment consoles, and other devices; Gaming, including Xbox hardware, and Xbox content and services; video games and third-party video game royalties; and Search, including Bing and Microsoft advertising. The company sells its products through OEMs, distributors, and resellers; and directly through digital marketplaces, online stores, and retail stores. Microsoft Corporation was founded in 1975 and is headquartered in Redmond, Washington.', '425 882 8080', '/img/logos/US/MSFT.png', 'https://www.microsoft.com', '1986-03-13', 'Technology', 'Software-Infrastructure', 'Information Technology', 'Software & Services', 'Software', 'Systems Software', 'NASDAQ', 'NASDAQ', 'United States', '2022-10-10 05:26:25.589790'),
        ('NVDA', 'common stock', 'NVIDIA Corporation', 'NVIDIA Corporation provides graphics, and compute and networking solutions in the United States, Taiwan, China, and internationally. The company''s Graphics segment offers GeForce GPUs for gaming and PCs, the GeForce NOW game streaming service and related infrastructure, and solutions for gaming platforms; Quadro/NVIDIA RTX GPUs for enterprise workstation graphics; vGPU software for cloud-based visual and virtual computing; automotive platforms for infotainment systems; and Omniverse software for building 3D designs and virtual worlds. Its Compute & Networking segment provides Data Center platforms and systems for AI, HPC, and accelerated computing; Mellanox networking and interconnect solutions; automotive AI Cockpit, autonomous driving development agreements, and autonomous vehicle solutions; cryptocurrency mining processors; Jetson for robotics and other embedded platforms; and NVIDIA AI Enterprise and other software. The company''s products are used in gaming, professional visualization, datacenter, and automotive markets. NVIDIA Corporation sells its products to original equipment manufacturers, original device manufacturers, system builders, add-in board manufacturers, retailers/distributors, independent software vendors, Internet and cloud service providers, automotive manufacturers and tier-1 automotive suppliers, mapping companies, start-ups, and other ecosystem participants. It has a strategic collaboration with Kroger Co. NVIDIA Corporation was incorporated in 1993 and is headquartered in Santa Clara, California.', '408 486 2000', '/img/logos/US/NVDA.png', 'https://www.nvidia.com', '1999-01-22', 'Technology', 'Semiconductors', 'Information Technology', 'Semiconductors & Semiconductor Equipment', 'Semiconductors & Semiconductor Equipment', 'Semiconductors', 'NASDAQ', 'NASDAQ', 'United States', '2022-10-10 05:26:25.589790'),
        ('ORCL', 'common stock', 'Oracle Corporation', 'Oracle Corporation offers products and services that address enterprise information technology environments worldwide. Its Oracle cloud software as a service offering include various cloud software applications, including Oracle Fusion cloud enterprise resource planning (ERP), Oracle Fusion cloud enterprise performance management, Oracle Fusion cloud supply chain and manufacturing management, Oracle Fusion cloud human capital management, Oracle Advertising, and NetSuite applications suite, as well as Oracle Fusion Sales, Service, and Marketing. The company also offers cloud-based industry solutions for various industries; Oracle application licenses; and Oracle license support services. In addition, it provides cloud and license business'' infrastructure technologies, such as the Oracle Database, an enterprise database; Java, a software development language; and middleware, including development tools and others. The company''s cloud and license business'' infrastructure technologies also comprise cloud-based compute, storage, and networking capabilities; and Oracle autonomous database, MySQL HeatWave, Internet-of-Things, digital assistant, and blockchain. Further, it provides hardware products and other hardware-related software offerings, including Oracle engineered systems, enterprise servers, storage solutions, industry-specific hardware, virtualization software, operating systems, management software, and related hardware services; and consulting and customer services. The company markets and sells its cloud, license, hardware, support, and services offerings directly to businesses in various industries, government agencies, and educational institutions, as well as through indirect channels. Oracle Corporation was founded in 1977 and is headquartered in Austin, Texas.', '737 867 1000', '/img/logos/US/orcl.png', 'https://www.oracle.com', '1986-03-12', 'Technology', 'Software-Infrastructure', 'Information Technology', 'Software & Services', 'Software', 'Systems Software', 'NYSE', 'NYSE', 'United States', '2022-10-10 05:26:25.589790'),
        ('QCOM', 'common stock', 'Qualcomm Incorporated', 'QUALCOMM Incorporated engages in the development and commercialization of foundational technologies for the wireless industry worldwide. The company operates through three segments: Qualcomm CDMA Technologies (QCT); Qualcomm Technology Licensing (QTL); and Qualcomm Strategic Initiatives (QSI). The QCT segment develops and supplies integrated circuits and system software based on 3G/4G/5G and other technologies for use in wireless voice and data communications, networking, application processing, multimedia, and global positioning system products. The QTL segment grants licenses or provides rights to use portions of its intellectual property portfolio, which include various patent rights useful in the manufacture and sale of wireless products comprising products implementing CDMA2000, WCDMA,LTE and/or OFDMA-based 5G standards and their derivatives. The QSI segment invests in early-stage companies in various industries, including 5G, artificial intelligence, automotive, consumer, enterprise, cloud, and IoT, and investment for supporting the design and introduction of new products and services for voice and data communications, new industries, and applications. It also provides development, and other services and related products to the United States government agencies and their contractors. QUALCOMM Incorporated was incorpotared in 1985 and is headquartered in San Diego, California.', '858 587 1121', '/img/logos/US/QCOM.png', 'https://www.qualcomm.com', '1991-12-13', 'Technology', 'Semiconductors', 'Information Technology', 'Semiconductors & Semiconductor Equipment', 'Semiconductors & Semiconductor Equipment', 'Semiconductors', 'NASDAQ', 'NASDAQ', 'United States', '2022-10-10 05:26:25.589790'),
        ('TSM', 'common stock', 'Taiwan Semiconductor Manufacturing', 'Taiwan Semiconductor Manufacturing Company Limited manufactures, packages, tests, and sells integrated circuits and other semiconductor devices in Taiwan, China, Europe, the Middle East, Africa, Japan, the United States, and internationally. It provides complementary metal oxide silicon wafer fabrication processes to manufacture logic, mixed-signal, radio frequency, and embedded memory semiconductors. The company also offers customer support, account management, and engineering services, as well as manufactures masks. Its products are used in mobile devices, high performance computing, automotive electronics, and internet of things markets. The company was incorporated in 1987 and is headquartered in Hsinchu City, Taiwan.', '886 3 563 6688', '/img/logos/US/tsm.png', 'https://www.tsmc.com', '1994-09-05', 'Technology', 'Semiconductors', 'Information Technology', 'Semiconductors & Semiconductor Equipment', 'Semiconductors & Semiconductor Equipment', 'Semiconductors', 'NYSE', 'NYSE', 'Taiwan', '2022-10-10 05:26:25.589790'),
        ('TXN', 'common stock', 'Texas Instruments Incorporated', 'Texas Instruments Incorporated designs, manufactures, and sells semiconductors to electronics designers and manufacturers worldwide. It operates in two segments, Analog and Embedded Processing. The Analog segment offers power products to manage power requirements in various levels using battery-management solutions, DC/DC switching regulators, AC/DC and isolated controllers and converters, power switches, linear regulators, voltage supervisors, voltage references, and lighting products. This segment also provides signal chain products that sense, condition, and measure signals to allow information to be transferred or converted for further processing and control for use in end markets, including amplifiers, data converters, interface products, motor drives, clocks, and sensing products. The Embedded Processing segment offers microcontrollers that are used in electronic equipment; digital signal processors for mathematical computations; and applications processors for specific computing activity. This segment offers products for use in various markets, such as industrial, automotive, personal electronics, communications equipment, enterprise systems, and calculators and other. The company also provides DLP products primarily for use in projectors to create high-definition images; calculators; and application-specific integrated circuits. It markets and sells its semiconductor products through direct sales and distributors, as well as through its website. Texas Instruments Incorporated was founded in 1930 and is headquartered in Dallas, Texas.', '214 479 3773', '/img/logos/US/TXN.png', 'https://www.ti.com', '1953-01-01', 'Technology', 'Semiconductors', 'Information Technology', 'Semiconductors & Semiconductor Equipment', 'Semiconductors & Semiconductor Equipment', 'Semiconductors', 'NASDAQ', 'NASDAQ', 'United States', '2022-10-10 05:26:25.589790')
on conflict do nothing;

create table if not exists ticker_interests
(
    id          varchar
        constraint ticker_interests_unique_id
            unique,
    symbol      text,
    interest_id integer,
    sim_dif     double precision,
    updated_at  timestamp
);
INSERT INTO ticker_interests (id, symbol, interest_id, sim_dif, updated_at)
VALUES ('AAPL_17', 'AAPL', 17, -0.43486976150896905, '2022-04-08 13:42:02.754064'),
       ('AAPL_12', 'AAPL', 12, 0.6465940832515944, '2022-04-08 13:42:02.754064'),
       ('AAPL_5', 'AAPL', 5, 0.6465940832515944, '2022-04-08 13:42:02.754064'),
       ('AAPL_39', 'AAPL', 39, -0.43486976150896905, '2022-04-08 13:42:02.754064'),
       ('MARK_5', 'MARK', 5, 0.7241019696160493, '2022-04-08 14:03:49.031875')
on conflict do nothing;

create table if not exists ticker_categories_continuous
(
    id          varchar
        constraint ticker_categories_continuous_unique_id
            unique,
    category_id integer,
    symbol      varchar,
    sim_dif     double precision,
    updated_at  timestamp
);

INSERT INTO ticker_categories_continuous (id, category_id, symbol, sim_dif, updated_at)
VALUES ('2_AAPL', 2, 'AAPL', -0.6774838263358212, '2022-04-08 14:03:49.031875'),
       ('5_AAPL', 5, 'AAPL', -0.9782500645186989, '2022-04-08 14:03:49.031875'),
       ('6_AAPL', 6, 'AAPL', 0.6701566971735885, '2022-04-08 14:03:49.031875'),
       ('7_AAPL', 7, 'AAPL', 0.7241019696160493, '2022-04-08 14:03:49.031875')
on conflict do nothing;

create table if not exists ticker_risk_scores
(
    symbol     varchar
        constraint ticker_risk_scores_unique_symbol
            unique,
    risk_score double precision,
    updated_at timestamp
);
INSERT INTO ticker_risk_scores (symbol, risk_score, updated_at)
VALUES ('AAPL', 0.4752466534540463, '2022-04-11 11:22:20.084558')
on conflict do nothing;

create table if not exists collection_ticker_actual_weights
(
    date               date,
    profile_id         integer,
    collection_id      integer,
    collection_uniq_id text,
    symbol             text,
    weight             double precision
);


create table if not exists drivewealth_monthly_usage
(
    profile_id   integer,
    period_start timestamp,
    period_end   timestamp,
    equity_value numeric,
    unique (profile_id, period_start)
);

create table if not exists collections
(
    id            integer not null
        constraint pk_collections
            primary key,
    name          varchar,
    description   varchar,
    enabled       varchar,
    personalized  varchar,
    image_url     varchar,
    influencer_id integer,
    size          integer,
    updated_at    timestamp
);
insert into collections (id, name, description, enabled, personalized, image_url, influencer_id, size, updated_at)
values  (83, 'Big Tech', 'The largest companies operating in the tech sector. These companies are the drivers of technological advances. The stocks offer high returns when the market favors growth stocks and tech. On the other hand, they tend to be crowded and prone to high volatility. ', '1', '0', 'https://gainy-collections-production.s3.amazonaws.com/20220513/Big%20Tech.jpg', null, 18, '2022-10-10 05:26:34.223409');

create table if not exists ticker_metrics
(
    symbol                                          varchar not null
        constraint pk_ticker_metrics
            primary key,
    profit_margin                                   double precision,
    avg_volume_10d                                  double precision,
    shares_outstanding                              bigint,
    avg_volume_90d                                  double precision,
    shares_float                                    bigint,
    short_ratio                                     double precision,
    short_percent                                   double precision,
    short_percent_outstanding                       double precision,
    beta                                            double precision,
    absolute_historical_volatility_adjusted_current double precision,
    relative_historical_volatility_adjusted_current double precision,
    absolute_historical_volatility_adjusted_min_1y  double precision,
    absolute_historical_volatility_adjusted_max_1y  double precision,
    relative_historical_volatility_adjusted_min_1y  double precision,
    relative_historical_volatility_adjusted_max_1y  double precision,
    implied_volatility                              double precision,
    revenue_growth_yoy                              double precision,
    revenue_growth_fwd                              double precision,
    ebitda_growth_yoy                               double precision,
    eps_growth_yoy                                  double precision,
    eps_growth_fwd                                  double precision,
    address_city                                    varchar,
    address_state                                   varchar,
    address_county                                  varchar,
    address_full                                    varchar,
    exchange_name                                   varchar,
    market_capitalization                           bigint,
    enterprise_value_to_sales                       double precision,
    price_to_earnings_ttm                           double precision,
    price_to_sales_ttm                              double precision,
    price_to_book_value                             double precision,
    enterprise_value_to_ebitda                      double precision,
    price_change_1w                                 double precision,
    price_change_1m                                 double precision,
    price_change_3m                                 double precision,
    price_change_1y                                 double precision,
    price_change_5y                                 double precision,
    price_change_all                                double precision,
    stddev_3_years                                  double precision,
    dividend_yield                                  double precision,
    dividends_per_share                             double precision,
    dividend_payout_ratio                           double precision,
    years_of_consecutive_dividend_growth            integer,
    dividend_frequency                              varchar,
    eps_ttm                                         double precision,
    eps_actual                                      double precision,
    eps_estimate                                    double precision,
    beaten_quarterly_eps_estimation_count_ttm       integer,
    eps_surprise                                    double precision,
    eps_difference                                  double precision,
    revenue_estimate_avg_0y                         double precision,
    revenue_actual                                  double precision,
    revenue_ttm                                     double precision,
    revenue_per_share_ttm                           double precision,
    net_income                                      double precision,
    net_income_ttm                                  double precision,
    roi                                             double precision,
    asset_cash_and_equivalents                      double precision,
    roa                                             double precision,
    total_assets                                    double precision,
    ebitda                                          double precision,
    ebitda_ttm                                      double precision,
    net_debt                                        double precision,
    updated_at                                      timestamp with time zone
);
insert into ticker_metrics (symbol, profit_margin, avg_volume_10d, shares_outstanding, avg_volume_90d, shares_float, short_ratio, short_percent, short_percent_outstanding, beta, absolute_historical_volatility_adjusted_current, relative_historical_volatility_adjusted_current, absolute_historical_volatility_adjusted_min_1y, absolute_historical_volatility_adjusted_max_1y, relative_historical_volatility_adjusted_min_1y, relative_historical_volatility_adjusted_max_1y, implied_volatility, revenue_growth_yoy, revenue_growth_fwd, ebitda_growth_yoy, eps_growth_yoy, eps_growth_fwd, address_city, address_state, address_county, address_full, exchange_name, market_capitalization, enterprise_value_to_sales, price_to_earnings_ttm, price_to_sales_ttm, price_to_book_value, enterprise_value_to_ebitda, price_change_1w, price_change_1m, price_change_3m, price_change_1y, price_change_5y, price_change_all, stddev_3_years, dividend_yield, dividends_per_share, dividend_payout_ratio, years_of_consecutive_dividend_growth, dividend_frequency, eps_ttm, eps_actual, eps_estimate, beaten_quarterly_eps_estimation_count_ttm, eps_surprise, eps_difference, revenue_estimate_avg_0y, revenue_actual, revenue_ttm, revenue_per_share_ttm, net_income, net_income_ttm, roi, asset_cash_and_equivalents, roa, total_assets, ebitda, ebitda_ttm, net_debt, updated_at)
values  ('AAPL', 0.2571, 87174820, 16070800384, 80434869.35483871, 16053877710, 1.53, 0.0072, 0.0072, 1.2498, 12.280060381362134, 0.08765836520352725, 10.862199481582714, 17.509344029666988, 0.06818791254078024, 0.11311304643853896, 35.59012083333332, 0.019, 0.0611998114082857, 0.1505626223091977, 0.1859099804305284, 0.1576912207733121, 'Cupertino', 'CA', 'United States', 'One Apple Park Way, Cupertino, CA, United States, 95014', 'NASDAQ', 2251358470144, 5.9937, 23.1554, 5.8093, 38.80609418282549, 17.6374, 0.013675832127351795, -0.10980491834530093, -0.04594241194257542, -0.014170637358492444, 2.7887147199774986, 1376.4827925270404, 0.31278157119300587, 0.0066, 0.89, 0.1485, 10, 'Quarterly', 6.06, 1.2, 1.16, 3, 3.4483, 0.04, 392468000000, 387541991424, 387541991424, 23.732, 94680000000, 256600000, 1.3015075376884422, 27502000000, 0.0007629887989914038, 336309000000, 123136000000, -1505100000, 92189000000, '2022-10-10 05:37:58.490804 +00:00'),
        ('ADBE', 0.28, 4019240, 464900000, 3650611.290322581, 463430916, 1.29, 0.0099, 0.0099, 1.2296, 105.97264458045723, 0.3669794112285114, 67.8541261004546, 106.06978286308059, 0.10686380355692342, 0.3783641123361956, 60.01941587301589, 0.127, 0.1217322230525428, 0.0946352270928944, 0.1017369727047146, 0.2403779865053695, 'San Jose', 'CA', 'United States', '345 Park Avenue, San Jose, CA, United States, 95110-2704', 'NASDAQ', 138730881024, 7.7439, 29.3168, 8.07, 9.382655879390454, 19.2462, 0.04930959302325588, -0.2685293074623841, -0.25849938373048487, -0.49941060222584344, 0.9060726072607259, 1892.573770491803, 0.3576823540827693, 0, 0, 0, 7, 'Quarterly', 13.32, 3.4, 3.33, 3, 2.1021, 0.07, 17609800000, 17191000064, 17191000064, 36.4, 4822000000, 1693900000, 6.2256308758040575, 3870000000, 0.06333757104397247, 26744000000, 6606000000, 2537999000, 271000000, '2022-10-10 05:37:58.490804 +00:00'),
        ('AMD', 0.1451, 102048335.4, 1614320000, 81160821.38709678, 1605248417, 0.44, 0.0193, 0.0193, 2.0549, 23.857242247168355, 0.4082348091575694, 10.40814514455555, 24.395983341865012, 0.09016188994288285, 0.4082348091575694, 61.6473734375, 0.701, 0.3179816292450295, 1, 0.8413461538461539, 0.4541935562649729, 'Santa Clara', 'CA', 'United States', '2485 Augustine Drive, Santa Clara, CA, United States, 95054', 'NASDAQ', 109531611136, 4.9538, 28.8723, 5.0765, 1.7075736325385695, 18.6632, -0.07765151515151514, -0.31609128145114107, -0.26351606805293004, -0.44374643061107943, 3.338530066815144, 17.58128517376236, 0.5146359599258522, 0, 0, 0, 0, 'Annual', 3.83, 1.05, 1.03, 4, 1.9417, 0.02, 25743700000, 21575999488, 21575999488, 15.876, 3162000000, null, null, 4964000000, null, 67502000000, 4172000000, -539700000, -1765000000, '2022-10-10 05:37:58.490804 +00:00'),
        ('AMZN', 0.0239, 51770440, 10187599872, 57250013.27419355, 9173281860, 1.6, 0.0088, 0.0088, 1.3332, 23.13850693388362, 0.2019771904144869, 7.827311012678245, 23.5472957691075, 0.043506709743824395, 0.21193181187727222, 55.646350746268645, 0.072, 0.1303364435731111, -0.22000030788651304, -0.6111111111111112, null, 'Seattle', 'WA', 'United States', '410 Terry Avenue North, Seattle, WA, United States, 98109-5210', 'NASDAQ', 1232190177280, 2.561, 101.6387, 2.5359, 8.877867327960322, 24.5521, 0.013805309734513216, -0.14039168605087426, -0.008481911026484323, -0.30329439096034205, 1.312031402940494, 1169.173646578141, 0.33294377020215915, 0, 0, 0, null, null, 1.12, -0.2, 0.14, 1, -242.8571, -0.34, 521419000000, 485901991936, 485901991936, 47.816, 33364000000, -300000, null, 37478000000, -0.0000007147485990927458, 419728000000, 74260000000, -300000, 87099000000, '2022-10-10 05:37:58.490804 +00:00'),
        ('ASML', 0.2928, 1387760, 397200000, 1043228.5806451613, 397088784, 0.73, 0.0024, 0.0024, 1.1763, 120.80173102809496, 0.278178351743414, 77.23734429607008, 137.09789178829064, 0.1119703385708895, 0.28873905664545235, 66.96618636363637, 0.351, 0.1714251359669635, 0.1416670815286836, 0.1480671043034282, 0.8910796219626639, 'Veldhoven', null, 'Netherlands', 'De Run 6501, Veldhoven, Netherlands, 5504 DR', 'NASDAQ', 169422635008, 9.6385, 31.7674, 8.8279, 22.551931865392604, 26.8034, 0.04552786806307929, -0.13321357285429147, -0.03895990081984735, -0.3982650756935312, 1.678086327057577, 235.39629831246597, 0.40153119212468236, 0.0113, 5.07, 0.4688, 0, 'SemiAnnual', 15.74, 3.77, 3.81, 3, -1.0499, -0.04, 21393000000, 19191799808, 19191799808, 47.705, 5684100000, 71190916.24, 0.4490596525536567, 4096500000, 0.002230809029662265, 31912600000, 7176500000, 238107018.73, 288800000, '2022-10-10 05:37:58.490804 +00:00'),
        ('AVGO', 0.3196, 2258200, 405008000, 2157826.935483871, 398594333, 2.77, 0.0208, 0.0208, 1.1164, 47.103769347880686, 0.10229275831280552, 37.362378237995514, 65.61671896706639, 0.06402549802604407, 0.11915055440215405, 49.880841269841255, 0.249, 0.1314577859166799, 0.2988033448673587, 0.3187641296156745, 0.2225658088802543, 'San Jose', 'CA', 'United States', '1320 Ridder Park Drive, San Jose, CA, United States, 95131-2313', 'NASDAQ', 186498088960, 7.0627, 19.8826, 5.8869, 8.933379893687192, 12.4186, 0.037093759149568806, -0.11113856417066881, -0.06887810812078698, -0.037573266741518285, 1.2223133815137, 37.10437991840923, 0.32526408975840154, 0.0356, 16.4, 0.4686, 5, 'Quarterly', 35, 9.73, 9.56, 4, 1.7782, 0.17, 33182600000, 31680000000, 31680000000, 77.41, 6736000000, 6071000000, 1.511130055887089, 9977000000, 0.08511622690183103, 71326000000, 14691000000, 13872000000, 29518000000, '2022-10-10 05:37:58.490804 +00:00'),
        ('BABA', 0.0467, 13580040, 2647539968, 20342224.19354839, 1869840000, 3.2, 0.0367, 0.0367, 0.605, 25.00539065267349, 0.30779653683743835, 25.00207521852635, 44.42323863919731, 0.2178606582473704, 0.5743143561180474, 63.82828153846153, -0.001, -0.5928975740438744, -0.3763601705699342, -0.2872086072922893, -0.14541927287231537, 'Hangzhou', null, 'China', '969 West Wen Yi Road, Hangzhou, China, 311121', 'NYSE', 219481227264, 0.2118, 40.62, 0.2573, 0.22350180336573244, 2.4154, 0.01562695336917108, -0.1182982418059475, -0.32803970223325074, -0.4970282317979198, -0.5538469987368884, -0.13473213334753442, 0.45600729415200075, 0, 0, 0, null, null, 47.7, 11.68, 10.39, 3, 12.4158, 1.29, 126413000000, 852876984320, 852876984320, 318.175, 62249000000, 38393000000, 1.6865465409392213, 176732000000, 0.022473495172000413, 1708368000000, 121322000000, 56498000000, -24721000000, '2022-10-10 05:37:58.490804 +00:00'),
        ('CRM', 0.0183, 5780500, 1000000000, 6274720.9677419355, 968190000, 1.83, 0.0137, 0.0137, 1.1035, 47.281408812677405, 0.3146011631690559, 17.849870980862764, 47.45192017707201, 0.06357316453368736, 0.32968001535285435, 52.335114062500004, 0.218, 0.1586465704791536, -0.326223544973545, -0.21755027422303475, 0.6178725291991725, 'San Francisco', 'CA', 'United States', 'Salesforce Tower, San Francisco, CA, United States, 94105', 'NYSE', 150289989632, 5.3115, 300.58, 5.1259, 2.498254596229928, 41.1772, 0.044841490545050045, -0.07565040900424391, -0.1436467236467237, -0.4484365825014681, 0.5611301547730341, 33.95116279069767, 0.4025429430444034, 0, 0, 0, null, null, 4.28, 1.19, 1.02, 4, 16.6667, 0.17, 30994000000, 29319999488, 29319999488, 29.661, 1444000000, 26103000, 3.7306973524831286, 6931000000, 0.0002772549602753112, 94148000000, 4830000000, 43297000, 6874000000, '2022-10-10 05:37:58.490804 +00:00'),
        ('CSCO', 0.2291, 19326000, 4108839936, 18886478.83870968, 4105762534, 1.95, 0.0093, 0.0093, 0.9517, 5.928463256899766, 0.14721786086167782, 2.8073317285184465, 6.079686165956041, 0.05313084142355572, 0.14721786086167782, 37.559554687500004, -0.002, 0.0452678632897597, 0.0794446586964906, 0.043478260869565216, 0.06346244924415688, 'San Jose', 'CA', 'United States', '170 West Tasman Drive, San Jose, CA, United States, 95134-1706', 'NASDAQ', 165462982656, 3.0202, 14.2801, 3.2093, 4.161413661258655, 9.2718, 0.006750000000000034, -0.1201660476294516, -0.07190596911730807, -0.25287292346168255, 0.37495646710962105, 725.8953068592059, 0.26584203355122316, 0.0377, 1.5, 0.4494, 11, 'Quarterly', 3.36, 0.83, 0.82, 4, 1.2195, 0.01, 54130100000, 51556999168, 51556999168, 12.364, 11812000000, 660030000, 2.0056399745863422, 7079000000, 0.0070214463522052725, 94002000000, 16794000000, 1131565000, 2436000000, '2022-10-10 05:37:58.490804 +00:00'),
        ('GOOG', 0.2589, 21460525.8, 6162999808, 24206532.419354837, 11360671800, 1.91, 0.0031, 0.0031, 1.0995, 15.14173275782965, 0.1520712338839977, 9.328979403035234, 20.75220406318122, 0.0738471870026508, 0.1533972578067441, 45.56065303030303, 0.126, 0.1195496413858752, 0.1325647112015372, 0.1645021645021645, 0.5563197446350745, 'Mountain View', 'CA', 'United States', '1600 Amphitheatre Parkway, Mountain View, CA, United States, 94043', 'NASDAQ', 1292667584512, 4.3014, 19.0382, 4.6476, 5.098310291858678, 11.9403, 0.035569422776911, -0.10923242082662377, -0.1714134735808469, -0.2890700862512139, 1.0382804503582395, 2.50487521560069, 0.2931678582128417, 0, 0, 0, null, null, 5.38, 1.21, 1.3, 2, -6.9231, -0.09, 288676000000, 278139011072, 278139011072, 21.03, 76033000000, 175204000, 1.1905776789571851, 17936000000, 0.0004932753353886003, 355185000000, 103521000000, 430633000, 10792000000, '2022-10-10 05:37:58.490804 +00:00'),
        ('IBM', 0.0936, 4322700, 896320000, 4656490.322580645, 902069441, 7.55, 0.0285, 0.0285, 0.8324, 7.1218660245712995, 0.059938276591241374, 5.496729996623925, 10.772295385186732, 0.04054212385265833, 0.09310117630360108, 36.69764615384615, 0.093, 0.0364543355015478, -0.0789996322177271, 0.0948571428571429, 0.6483267673842683, 'Armonk', 'NY', 'United States', 'One New Orchard Road, Armonk, NY, United States, 10504', 'NYSE', 106500743168, 2.5659, 19.5139, 1.7845, 5.529083294555607, 11.9683, 0.00008416799932664532, -0.08026937069432627, -0.14346802458438512, -0.08788667133905337, 0.06942245607150599, 69.08375604577091, 0.2901660163890973, 0.054, 6.58, 0.6868, 23, 'Quarterly', 9.58, 2.31, 2.27, 4, 1.7621, 0.04, 59960000000, 59679997952, 59679997952, 66.383, 5742000000, null, null, 7034000000, null, 127503000000, 13438000000, 11698000000, 46342000000, '2022-10-10 05:37:58.490804 +00:00'),
        ('INTC', 0.2603, 41559180, 4105999872, 41560980.64516129, 4102099300, 1.75, 0.0158, 0.0158, 0.7067, 7.28465276512579, 0.28322911217440866, 3.069701851992588, 7.28465276512579, 0.0667370013694934, 0.28322911217440866, 42.05078095238096, -0.22, -0.07393156106373817, 0.0007206272339444, -0.2528301886792453, 0.5028708160235105, 'Santa Clara', 'CA', 'United States', '2200 Mission College Boulevard, Santa Clara, CA, United States, 95054-1549', 'NASDAQ', 105606316032, 1.5532, 5.5193, 1.4389, 1.0433653807147782, 3.3682, -0.0019402405898332198, -0.1824539097266371, -0.31597927725710884, -0.5061481862658506, -0.2642305029665357, 133.80083857442347, 0.34720898867797845, 0.0568, 1.425, 0.3687, 28, 'Quarterly', 3.96, 0.29, 0.7, 3, -58.5714, -0.41, 66005300000, 73394003968, 73394003968, 17.989, 19868000000, 21102000000, 1.2865384615384614, 4390000000, 0.12382494806886596, 170418000000, 34092000000, 36329000000, 31040000000, '2022-10-10 05:37:58.490804 +00:00'),
        ('MSFT', 0.3669, 28417631.8, 7457889792, 25228827.887096774, 7451179769, 1.95, 0.0058, 0.0058, 0.9602, 28.417501977954426, 0.1213178875424967, 22.88683551794478, 37.4924727750772, 0.08345834647892374, 0.12334489479397083, 41.37393181818183, 0.124, 0.1248218477771932, 0.1774261752061456, 0.1428571428571429, null, 'Redmond', 'WA', 'United States', 'One Microsoft Way, Redmond, WA, United States, 98052-6399', 'NASDAQ', 1746936135680, 9.1543, 24.2736, 8.8109, 10.497916013086542, 18.107, 0.00575354229282965, -0.11427058912500931, -0.12300242874113931, -0.19890862243678287, 2.267588186798241, 3839.0000000000005, 0.2721339009938914, 0.0109, 2.48, 0.2696, 17, 'Quarterly', 9.2, 2.23, 2.29, 3, -2.6201, -0.06, 220428000000, 198269992960, 198269992960, 26.45, 72738000000, 6940000000, 25.817757009345794, 13931000000, 0.019022037057340204, 364840000000, 100239000000, 11353000000, 47339000000, '2022-10-10 05:37:58.490804 +00:00'),
        ('NVDA', 0.2603, 59092740, 2492000000, 56616250.61290322, 2389578300, 0.54, 0.0128, 0.0128, 1.713, 56.401678610995596, 0.46705596729873794, 33.0426286766396, 59.52885743453447, 0.12765422996106818, 0.46705596729873794, 69.3807772727273, 0.03, 0.0716821534542091, 0.1264341175107197, 0.2564841498559078, 0.5426208686469358, 'Santa Clara', 'CA', 'United States', '2788 San Tomas Expressway, Santa Clara, CA, United States, 95051', 'NASDAQ', 300933939200, 9.9317, 32.384, 10.1195, 12.60148179067098, 31.5643, -0.005189883845456711, -0.16063112532147072, -0.2375299911605, -0.41999471674551525, 1.6324623856090898, 319.6585236325013, 0.47609742345592865, 0.0013, 0.16, 0.0367, 10, 'Quarterly', 4.36, 0.51, 1.25, 3, -59.2, -0.74, 27082200000, 29738000384, 29738000384, 11.888, 9752000000, 2582000000, 1.4578313253012047, 3013000000, 0.059389088232588094, 43476000000, 11351000000, 3098000000, 8679000000, '2022-10-10 05:37:58.490804 +00:00'),
        ('ORCL', 0.1315, 8577101, 2696169984, 7611520.951612903, 1542695255, 2.02, 0.0108, 0.0108, 0.9259, 9.324456615285262, 0.14732906644470314, 6.635443411076535, 12.655273120617537, 0.08311600109040576, 0.15018131714519642, 40.199651562499994, 0.176, 0.1155834304066758, -0.28706286204677106, 0.025052192066805846, 1.3358747140229184, 'Austin', 'TX', 'United States', '2300 Oracle Way, Austin, TX, United States, 78741', 'NYSE', 170640605184, 5.6842, 29.9953, 3.8644, 34.008597528210636, 18.8833, 0.03635172752579008, -0.16624950599394017, -0.11544374563242488, -0.3213385361543517, 0.4199975319998652, 1160.2844036697247, 0.2707344390569418, 0.0202, 1.28, 0.2607, 9, 'Quarterly', 4.91, 1.03, 1.07, 2, -3.7383, -0.04, 49491900000, 44157001728, 44157001728, 16.483, 6717000000, 9982000000, 3.723975566301858, 10448000000, 0.07660253704655856, 130309000000, 13526000000, 16644000000, 81129000000, '2022-10-10 05:37:58.490804 +00:00'),
        ('QCOM', 0.3052, 7208900, 1123000064, 7544079.758064516, 1121180740, 2.17, 0.0126, 0.0126, 1.2837, 19.975853882189497, 0.1652125869009139, 8.643183887038168, 19.98239948248348, 0.05398069437849584, 0.17566938090946743, 50.89164687499999, 0.357, 0.1815517212544714, 0.3728389077395379, 0.6061827956989247, 0.1741905314961959, 'San Diego', 'CA', 'United States', '5775 Morehouse Drive, San Diego, CA, United States, 92121-1714', 'NASDAQ', 135781941248, 3.5345, 10.719, 3.2221, 8.45347129972733, 8.7653, 0.07018941405558499, -0.08436198409693307, -0.1060331487137629, -0.026452691849047527, 1.6361862402023308, 335.98439241917504, 0.3937347661153895, 0.0239, 2.79, 0.2393, 19, 'Quarterly', 11.95, 2.96, 2.87, 4, 3.1359, 0.09, 44160400000, 42140999680, 42140999680, 37.459, 9043000000, 51659000, 0.46320549184361526, 2676000000, 0.0010986601446193109, 47020000000, 12415000000, 235487000, 12869000000, '2022-10-10 05:37:58.490804 +00:00'),
        ('TSM', 0.4059, 13486920, 5186079744, 11361842.08064516, 4836378895, 2.2, 0.0026, 0.0026, 1.1424, 16.46708584012666, 0.23608725218819585, 5.166223557721881, 16.46708584012666, 0.0431749567426999, 0.23608725218819585, 46.665648437499996, 0.435, -0.7765138833056272, 0.22492750950777188, 0.375, 0.3413872400955499, 'Hsinchu City', null, 'Taiwan', 'Hsinchu Science Park, Hsinchu City, Taiwan, 300096', 'NYSE', 359806074880, 0.1849, 15.0648, 0.1916, 0.1449034496369623, 0.2667, 0.017357059509918393, -0.1406712004730929, -0.14046046672688572, -0.3562362479141131, 1.0076911120449954, 20.130600745251297, 0.3162191172942761, 0.0266, 11, 0.2876, 0, 'Quarterly', 5.17, 1.55, 1.51, 4, 2.649, 0.04, 72793900000, 1878076424192, 1878076424192, 362.145, 592359200000, 307493879000, 0.9981651268994977, 1253189197000, 0.07075426364447232, 4345941335000, 1090323700000, 590319169000, -357885395000, '2022-10-10 05:37:58.490804 +00:00'),
        ('TXN', 0.4378, 6328080, 913707008, 5489804.354838709, 912291119, 3.24, 0.0181, 0.0181, 0.9982, 11.486446866642865, 0.07211480955953582, 7.241103591971114, 14.734319951822869, 0.0385607179001126, 0.08068920992747472, 49.94770967741936, 0.138, 0.0382196929518193, 0.2478844634999436, 0.3038516405135521, 0.3624426593438712, 'Dallas', 'TX', 'United States', '12500 TI Boulevard, Dallas, TX, United States, 75243', 'NASDAQ', 144703176704, 7.7085, 17.4267, 7.3858, 10.34218557236543, 13.6551, 0.029073523711073745, -0.06711959704814341, 0.030856443144008594, -0.16262559564615786, 0.9843623080794741, 169.7181136120043, 0.26215112436892507, 0.0311, 4.47, 0.5131, 22, 'Quarterly', 9.14, 2.45, 2.12, 4, 15.566, 0.33, 20198500000, 19591999488, 19591999488, 21.238, 7769000000, -200000000, 0.40813873626373626, 3802000000, -0.008089633135137322, 24723000000, 10057000000, 1401000000, 3442000000, '2022-10-10 05:37:58.490804 +00:00')
on conflict do nothing;

create table if not exists historical_prices
(
    symbol         varchar not null,
    id             text
        constraint historical_prices_unique_id
            unique,
    date_year      text,
    date_month     timestamp,
    date_week      timestamp,
    adjusted_close double precision,
    close          double precision,
    date           date    not null,
    high           double precision,
    low            double precision,
    open           double precision,
    volume         numeric,
    updated_at     timestamp with time zone,
    constraint pk_historical_prices
        primary key (symbol, date)
);

insert into historical_prices (symbol, id, date_year, date_month, date_week, adjusted_close, close, date, high, low, open, volume, updated_at)
values  ('TSM', 'TSM_2021-12-13', '2021', '2021-12-01 00:00:00.000000', '2021-12-13 00:00:00.000000', 114.6291, 116.42, '2021-12-13', 119.03, 116.39, 118.86, 5854263, '2022-09-16 05:26:15.755482 +00:00'),
        ('GOOG', 'GOOG_2021-12-13', '2021', '2021-12-01 00:00:00.000000', '2021-12-13 00:00:00.000000', 146.7045, 2934.09, '2021-12-13', 2971.25, 2927.2, 2968.88, 24103920, '2022-08-25 16:26:59.648385 +00:00'),
        ('INTC', 'INTC_2021-12-13', '2021', '2021-12-01 00:00:00.000000', '2021-12-13 00:00:00.000000', 48.7289, 50, '2021-12-13', 51.02, 49.95, 50.85, 35726900, '2022-08-25 16:48:59.026698 +00:00'),
        ('IBM', 'IBM_2021-12-13', '2021', '2021-12-01 00:00:00.000000', '2021-12-13 00:00:00.000000', 118.1804, 122.58, '2021-12-13', 124.36, 120.79, 123.76, 6847500, '2022-08-25 16:43:19.961362 +00:00'),
        ('ASML', 'ASML_2021-12-13', '2021', '2021-12-01 00:00:00.000000', '2021-12-13 00:00:00.000000', 757.4328, 764.47, '2021-12-13', 781.8396, 764.34, 780.57, 615109, '2022-08-25 15:27:30.965833 +00:00'),
        ('AMD', 'AMD_2021-12-13', '2021', '2021-12-01 00:00:00.000000', '2021-12-13 00:00:00.000000', 133.8, 133.8, '2021-12-13', 139.4, 133.415, 138.25, 42173961, '2022-08-25 15:16:35.161739 +00:00'),
        ('ADBE', 'ADBE_2021-12-13', '2021', '2021-12-01 00:00:00.000000', '2021-12-13 00:00:00.000000', 658.3, 658.3, '2021-12-13', 675.21, 650.98, 652.77, 3829400, '2022-08-25 15:14:56.005260 +00:00'),
        ('BABA', 'BABA_2021-12-13', '2021', '2021-12-01 00:00:00.000000', '2021-12-13 00:00:00.000000', 122.24, 122.24, '2021-12-13', 123.25, 119.75, 123, 15820500, '2022-08-25 15:31:06.033122 +00:00'),
        ('ORCL', 'ORCL_2021-12-13', '2021', '2021-12-01 00:00:00.000000', '2021-12-13 00:00:00.000000', 99.6791, 100.89, '2021-12-13', 104.36, 100.5225, 102.44, 16317620, '2022-08-25 17:38:41.301180 +00:00'),
        ('AVGO', 'AVGO_2021-12-13', '2021', '2021-12-01 00:00:00.000000', '2021-12-13 00:00:00.000000', 603.5055, 621.66, '2021-12-13', 634.42, 621.23, 634, 2689830, '2022-09-22 05:11:53.535775 +00:00'),
        ('AMZN', 'AMZN_2021-12-13', '2021', '2021-12-01 00:00:00.000000', '2021-12-13 00:00:00.000000', 169.5675, 3391.35, '2021-12-13', 3442, 3382.6, 3440, 62168999, '2022-08-25 15:22:42.597511 +00:00'),
        ('CSCO', 'CSCO_2021-12-13', '2021', '2021-12-01 00:00:00.000000', '2021-12-13 00:00:00.000000', 57.3541, 58.61, '2021-12-13', 59.51, 58.54, 59.1, 18496311, '2022-08-25 15:48:05.626828 +00:00'),
        ('TXN', 'TXN_2021-12-13', '2021', '2021-12-01 00:00:00.000000', '2021-12-13 00:00:00.000000', 189.4246, 193.24, '2021-12-13', 196.74, 192.91, 196.1, 6178300, '2022-08-25 18:48:58.695674 +00:00'),
        ('NVDA', 'NVDA_2021-12-13', '2021', '2021-12-01 00:00:00.000000', '2021-12-13 00:00:00.000000', 281.5025, 281.61, '2021-12-13', 302.94, 281.16, 302.49, 59834367, '2022-08-25 17:44:49.135071 +00:00'),
        ('AAPL', 'AAPL_2021-12-13', '2021', '2021-12-01 00:00:00.000000', '2021-12-13 00:00:00.000000', 175.0158, 175.74, '2021-12-13', 182.13, 175.53, 181.12, 153237000, '2022-08-25 15:14:23.690056 +00:00'),
        ('CRM', 'CRM_2021-12-13', '2021', '2021-12-01 00:00:00.000000', '2021-12-13 00:00:00.000000', 265.76, 265.76, '2021-12-13', 270.56, 264.61, 265.8, 3625700, '2022-08-25 19:54:24.746027 +00:00'),
        ('MSFT', 'MSFT_2021-12-13', '2021', '2021-12-01 00:00:00.000000', '2021-12-13 00:00:00.000000', 337.1969, 339.4, '2021-12-13', 343.79, 339.08, 340.68, 28899430, '2022-08-25 17:05:34.873830 +00:00'),
        ('QCOM', 'QCOM_2021-12-13', '2021', '2021-12-01 00:00:00.000000', '2021-12-13 00:00:00.000000', 180.5891, 183.32, '2021-12-13', 191.3, 183.11, 186.85, 16346800, '2022-09-01 05:37:21.250749 +00:00'),
        ('SPY', 'SPY_2021-12-13', '2021', '2021-12-01 00:00:00.000000', '2021-12-13 00:00:00.000000', 459.6114, 466.57, '2021-12-13', 470.56, 466.27, 470.19, 87724680, '2022-09-17 05:04:35.696171 +00:00')
on conflict do nothing;

-- artificial prices
insert into historical_prices (symbol, adjusted_close, date)
with latest_historical_prices as
         (
             select distinct on (symbol) *
             from historical_prices
             order by symbol, date desc
         )
select latest_historical_prices.symbol,
       latest_historical_prices.adjusted_close,
       dd::date as date
FROM generate_series((select min(date) from latest_historical_prices)::date + interval '1 day', now() - interval '1 day', interval '1 day') dd
         join latest_historical_prices on true
where extract(isodow from dd) < 6
on conflict do nothing;
